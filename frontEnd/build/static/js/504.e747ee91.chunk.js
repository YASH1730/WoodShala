"use strict";(self.webpackChunkadminpanel=self.webpackChunkadminpanel||[]).push([[504],{9504:function(e,t,n){n.r(t),n.d(t,{default:function(){return X}});var i=n(4942),r=n(1413),a=n(5861),o=n(885),s=n(4687),l=n.n(s),d=n(2791),c=n(7391),u=n(3786),m=n(68),p=n(3400),h=n(4554),f=n(890),x=n(1889),v=n(3466),Z=n(6151),g=n(792),j=n(2739),y=n(627),b=n(4721),w=n(585),_=n(7031),P=n(9434),N=n(2881),C=n(6654),S=(n(2764),n(7477)),k=n(3579),O=n(3366),z=n(7462),I=n(8182),A=n(2466),D=n(4419),E=n(1217),M=n(3457),F=n(7078),L=n(8519),R=n(5080),B=n(1184),T=n(5682),W=n(184),q=["component","direction","spacing","divider","children","className"],V=(0,R.Z)(),H=(0,M.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return t.root}});function $(e){return(0,F.Z)({props:e,name:"MuiStack",defaultTheme:V})}function U(e,t){var n=d.Children.toArray(e).filter(Boolean);return n.reduce((function(e,i,r){return e.push(i),r<n.length-1&&e.push(d.cloneElement(t,{key:"separator-".concat(r)})),e}),[])}var G=function(e){var t=e.ownerState,n=e.theme,r=(0,z.Z)({display:"flex",flexDirection:"column"},(0,B.k9)({theme:n},(0,B.P$)({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var a=(0,T.hB)(n),o=Object.keys(n.breakpoints.values).reduce((function(e,n){return("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e}),{}),s=(0,B.P$)({values:t.direction,base:o}),l=(0,B.P$)({values:t.spacing,base:o});"object"===typeof s&&Object.keys(s).forEach((function(e,t,n){if(!s[e]){var i=t>0?s[n[t-1]]:"column";s[e]=i}}));r=(0,A.Z)(r,(0,B.k9)({theme:n},l,(function(e,n){return{"& > :not(style) + :not(style)":(0,i.Z)({margin:0},"margin".concat((r=n?s[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),(0,T.NA)(a,e))};var r})))}return r=(0,B.dt)(n.breakpoints,r)};var K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createStyledComponent,n=void 0===t?H:t,i=e.useThemeProps,r=void 0===i?$:i,a=e.componentName,o=void 0===a?"MuiStack":a,s=function(){return(0,D.Z)({root:["root"]},(function(e){return(0,E.Z)(o,e)}),{})},l=n(G),c=d.forwardRef((function(e,t){var n=r(e),i=(0,L.Z)(n),a=i.component,o=void 0===a?"div":a,d=i.direction,c=void 0===d?"column":d,u=i.spacing,m=void 0===u?0:u,p=i.divider,h=i.children,f=i.className,x=(0,O.Z)(i,q),v={direction:c,spacing:m},Z=s();return(0,W.jsx)(l,(0,z.Z)({as:o,ownerState:v,ref:t,className:(0,I.Z)(Z.root,f)},x,{children:p?U(h,p):h}))}));return c}(),J=K,Q={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,maxHeight:500,overflowY:"scroll",bgcolor:"background.paper",boxShadow:24,p:2},Y={personal:["CID","customer_name","customer_email","customer_mobile","city","state","shipping","billing","GST","has_GST","classification","customer_type"],order:["O","sales_person","status","sale_channel","order_time","note"],customizations:["SKU","cusPolish","design","polish_images","design_images","polish_note","design_note"],product:["quantity"],payment:["paid","total","pay_method_remaining","pay_method_advance","pay_method_advance"],fulfillment:["fulfilled","courier_company","inventory_location","AWB","pic_before_dispatch"]};function X(e){var t=e.history,n=(0,P.I0)(),s=(0,d.useState)({data:[],isLoading:!1,page:1,limit:10,total:0,O:void 0,customer_name:void 0,customer_email:void 0,date:"",filter:!1}),g=(0,o.Z)(s,2),j=g[0],y=g[1],b=(0,d.useState)({open:!1,_id:void 0}),O=(0,o.Z)(b,2),z=O[0],I=O[1];function A(){return(A=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isLoading:!0})})),(0,C.co)({page:j.page,limit:j.limit,total:j.total,O:j.O,customer_name:j.customer_name,customer_email:j.customer_email}).then((function(e){y((function(t){return(0,r.Z)((0,r.Z)({},t),{},{data:e.data.data.map((function(e,t){return{id:t+1,O:e.O,order_time:e.order_time,status:e.status,CID:e.CID,customer_name:e.customer_name,customer_email:e.customer_email,customer_mobile:e.customer_mobile,city:e.city,state:e.state,shipping:e.shipping,quantity:JSON.stringify(e.quantity),discount:e.discount,paid:e.paid,total:e.total,note:e.note||"",action:e._id}})),isLoading:!1,total:e.data.total,filter:!1})}))})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,d.useMemo)((function(){!function(){A.apply(this,arguments)}()}),[j.page,j.limit,j.filter]);var D=(0,d.useState)({}),E=(0,o.Z)(D,2),M=E[0],F=E[1],L=[{key:"processing",value:"processing",color:"blue"},{key:"completed",value:"completed",color:"green"},{key:"cancel",value:"cancel",color:"red"}],R=[{field:"id",headerName:"ID",width:50},{field:"status",editable:!0,headerName:"Status",width:150,renderCell:function(e){return(0,W.jsx)(c.Z,{size:"small",fullWidth:!0,id:"outlined-select",sx:{background:"completed"===e.formattedValue?"#52ffc9":"cancel"===e.formattedValue?"#fdabab":"processing"===e.formattedValue?"#b9abfd":""},value:M[e.row.action]||e.formattedValue,select:!0,name:e.row.action,multiple:!0,onChange:B,children:L.map((function(e){return(0,W.jsx)(u.Z,{value:e.value,children:e.value},e.key)}))})}},{field:"O",headerName:"Order ID",width:100},{field:"CID",headerName:"Customer ID",width:100},{field:"customer_name",headerName:"Customer Name",width:150,align:"center"},{field:"customer_email",headerName:"Customer Email",width:250,align:"center"},{field:"city",headerName:"City",width:100},{field:"state",headerName:"State",width:100},{field:"shipping",headerName:"Shipping Address",width:200},{field:"order_time",headerName:"Order Time/Date",width:200,align:"center"},{field:"quantity",headerName:"Product $ Quantity",width:200},{field:"discount",headerName:"Discount",width:80,align:"center"},{field:"paid",headerName:"Paid Amount",width:80,align:"center"},{field:"total",headerName:"Total Amount",width:80,align:"center"},{field:"note",headerName:"Note",width:80,align:"center"},{field:"action",headerName:"Actions",width:200,renderCell:function(e){return(0,W.jsx)("div",{className:"categoryImage",children:(0,W.jsx)(m.Z,{title:"preview",children:(0,W.jsx)(p.Z,{onClick:function(){t("/preview_order/".concat(e.formattedValue))},"aria-label":"delete",children:(0,W.jsx)(k.Z,{})})})})}}],B=function(e){F((0,r.Z)((0,r.Z)({},M),{},(0,i.Z)({},e.target.name,e.target.value)));var t=new FormData;t.append("_id",e.target.name),t.append("status",e.target.value),(0,C.yp)(t).then((function(e){console.log(e),n((0,N.br)({open:!0,variant:"success",message:" Order Status Updated Successfully !!!"}))})).catch((function(e){console.log(e),n((0,N.br)({open:!0,variant:"error",message:"Something Went Wrong !!!"}))}))},T=function(e){return y((function(t){return(0,r.Z)((0,r.Z)({},t),{},(0,i.Z)({},e.target.name,e.target.value))}))};return(0,W.jsxs)(h.Z,{sx:{pl:4,pr:4},children:[(0,W.jsx)(f.Z,{component:"span",sx:{display:"block"},variant:"h5",children:"Order"}),(0,W.jsx)("br",{}),(0,W.jsx)(ee,{preview:z,setPreview:I}),(0,W.jsxs)(x.ZP,{container:!0,p:2,sx:{boxShadow:1,borderRadius:2,alignItems:"center !important",gap:"10px"},children:[(0,W.jsx)(x.ZP,{xs:12,md:2.5,children:(0,W.jsx)(c.Z,{size:"small",fullWidth:!0,id:"demo-helper-text-aligned-no-helper",type:"text",placeholder:"ex O-01001",InputProps:{startAdornment:(0,W.jsx)(v.Z,{position:"start",children:"O"})},value:j.O||"",name:"O",onChange:T})}),(0,W.jsx)(x.ZP,{xs:12,md:2.5,children:(0,W.jsx)(c.Z,{size:"small",fullWidth:!0,id:"demo-helper-text-aligned-no-helper",type:"text",InputProps:{startAdornment:(0,W.jsx)(v.Z,{position:"start",children:"Name"})},value:j.customer_name||"",name:"customer_name",onChange:T})}),(0,W.jsx)(x.ZP,{xs:12,md:2.5,children:(0,W.jsx)(c.Z,{size:"small",fullWidth:!0,id:"demo-helper-text-aligned-no-helper",InputProps:{startAdornment:(0,W.jsx)(v.Z,{position:"start",children:"Email"})},value:j.customer_email||"",name:"customer_email",type:"email",onChange:T})}),(0,W.jsx)(x.ZP,{xs:12,md:2.5,children:(0,W.jsx)(c.Z,{size:"small",fullWidth:!0,value:j.date,id:"demo-helper-text-aligned-no-helper",type:"date",name:"date",onChange:T})}),(0,W.jsxs)(x.ZP,{xs:12,md:1.5,sx:{display:"flex",justifyContent:"space-between",gap:"5px"},children:[(0,W.jsx)(Z.Z,{color:"primary",fullWidth:!0,variant:"contained",onClick:function(){y((function(e){return(0,r.Z)((0,r.Z)({},e),{},{filter:!e.filter})}))},children:(0,W.jsx)(w.Z,{})}),(0,W.jsx)(Z.Z,{color:"primary",fullWidth:!0,variant:"outlined",onClick:function(){return y((function(e){return(0,r.Z)((0,r.Z)({},e),{},{O:void 0,date:"",customer_name:void 0,customer_email:void 0,order_time:"",filter:!e.filter})}))},children:(0,W.jsx)(_.Z,{})})]})]}),(0,W.jsx)("br",{}),(0,W.jsx)(x.ZP,{container:!0,scaping:2,sx:{display:"flex",justifyContent:"space-between",alignItem:"center"},children:(0,W.jsxs)(x.ZP,{item:!0,p:2,xs:12,sx:{boxShadow:1,borderRadius:5,maxHeight:500},children:[(0,W.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,W.jsxs)(f.Z,{component:"span",variant:"h6",children:[" ","Order List"," "]})}),(0,W.jsx)(W.Fragment,{}),(0,W.jsx)("br",{}),function(e,t){return(0,W.jsx)("div",{style:{height:t,width:"100%"},children:(0,W.jsx)(S._,{filterModel:{items:[{columnField:"order_time",operatorValue:"contains",value:"".concat(j.date)}]},rows:j.data,rowCount:j.total,loading:j.isLoading,rowsPerPageOptions:[10,30,50,70,100],pagination:!0,pageSize:j.limit,page:j.page-1,limit:j.limit,paginationMode:"server",onPageChange:function(e){y((function(t){return(0,r.Z)((0,r.Z)({},t),{},{page:e+1})}))},onPageSizeChange:function(e){return y((function(t){return(0,r.Z)((0,r.Z)({},t),{},{limit:e})}))},columns:e})})}(R,400)]})})]})}function ee(e){var t=e.preview,n=e.setPreview,i=(0,d.useState)({order:{},custom:{}}),s=(0,o.Z)(i,2),c=s[0],u=s[1];function m(){return(m=(0,a.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.s$)(t._id);case 2:200===(n=e.sent).status&&u({order:n.data.data,custom:n.data.custom_product});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,d.useEffect)((function(){t._id&&function(){m.apply(this,arguments)}()}),[t.open]),(0,W.jsx)(W.Fragment,{children:(0,W.jsx)(g.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:t.open,onClose:function(){return n((function(e){return(0,r.Z)((0,r.Z)({},e),{},{open:!1})}))},closeAfterTransition:!0,BackdropComponent:j.Z,children:(0,W.jsx)(y.Z,{in:t.open,children:(0,W.jsx)(h.Z,{sx:Q,children:c&&(0,W.jsxs)(x.ZP,{container:!0,sx:{gap:"1rem"},children:[(0,W.jsx)(x.ZP,{item:!0,xs:12,sx:{textAlign:"center"},children:(0,W.jsx)(f.Z,{variant:"h6",children:"Order Preview"})}),(0,W.jsxs)(x.ZP,{item:!0,xs:12,children:[(0,W.jsx)(f.Z,{variant:"body1",children:"Customer Details"}),(0,W.jsx)(J,{children:Y.personal.map((function(e,t){return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(h.Z,{className:"previewBox",children:[(0,W.jsx)(f.Z,{variant:"body2",children:e}),(0,W.jsx)(f.Z,{variant:"body2",children:c.order[e]})]},t),(0,W.jsx)(b.Z,{})]})}))})]}),(0,W.jsxs)(x.ZP,{item:!0,xs:12,children:[(0,W.jsx)(f.Z,{variant:"body1",children:"Order Details"}),(0,W.jsx)(J,{children:Y.order.map((function(e,t){return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(h.Z,{className:"previewBox",children:[(0,W.jsx)(f.Z,{variant:"body2",children:e}),(0,W.jsx)(f.Z,{variant:"body2",children:c.order[e]})]},t),(0,W.jsx)(b.Z,{})]})}))})]}),(0,W.jsxs)(x.ZP,{item:!0,xs:12,children:[(0,W.jsx)(f.Z,{variant:"body1",children:"Fulfillment Details"}),(0,W.jsx)(J,{children:Y.fulfillment.map((function(e,t){return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(h.Z,{className:"previewBox",children:[(0,W.jsx)(f.Z,{variant:"body2",children:e}),(0,W.jsx)(f.Z,{variant:"body2",children:c.order[e]})]},t),(0,W.jsx)(b.Z,{})]})}))})]}),(0,W.jsxs)(x.ZP,{item:!0,xs:12,children:[(0,W.jsx)(f.Z,{variant:"body1",children:"SKU Details"}),(0,W.jsx)(J,{children:c.order.quantity&&Object.keys(c.order.quantity).map((function(e,t){return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(h.Z,{className:"previewBox",children:[(0,W.jsx)(f.Z,{variant:"body2",children:e}),(0,W.jsx)(f.Z,{variant:"body2",children:c.order.quantity[e]})]},t),(0,W.jsx)(b.Z,{})]})}))})]}),(0,W.jsxs)(x.ZP,{item:!0,xs:12,children:[(0,W.jsx)(f.Z,{variant:"body1",children:"Customization Details"}),(0,W.jsx)(J,{children:c.order.customizations&&c.order.customizations.map((function(e,t){return(0,W.jsxs)(W.Fragment,{children:[Y.customizations.map((function(t,n){return(0,W.jsxs)(h.Z,{className:"previewBox",children:[(0,W.jsx)(f.Z,{variant:"caption",children:t}),"polish_images"===t||"design_images"===t?e[t].length>0&&e[t].map((function(e,t){return(0,W.jsx)("img",{width:"50px",src:e,alt:t})})):(0,W.jsx)(f.Z,{variant:"caption",children:e[t]})]},n)})),(0,W.jsx)(b.Z,{})]})}))})]}),(0,W.jsxs)(x.ZP,{item:!0,xs:12,children:[(0,W.jsx)(f.Z,{variant:"body1",children:"Payment Details"}),(0,W.jsx)(J,{children:Y.payment.map((function(e,t){return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(h.Z,{className:"previewBox",children:[(0,W.jsx)(f.Z,{variant:"body2",children:e}),(0,W.jsx)(f.Z,{variant:"body2",children:c.order[e]})]},t),(0,W.jsx)(b.Z,{})]})}))})]})]})})})})})}},585:function(e,t,n){var i=n(4836);t.Z=void 0;var r=i(n(5649)),a=n(184),o=(0,r.default)((0,a.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt");t.Z=o},7031:function(e,t,n){var i=n(4836);t.Z=void 0;var r=i(n(5649)),a=n(184),o=(0,r.default)((0,a.jsx)("path",{d:"M19.79 5.61C20.3 4.95 19.83 4 19 4H6.83l7.97 7.97 4.99-6.36zM2.81 2.81 1.39 4.22 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-2.17l5.78 5.78 1.41-1.41L2.81 2.81z"}),"FilterAltOff");t.Z=o},3579:function(e,t,n){var i=n(4836);t.Z=void 0;var r=i(n(5649)),a=n(184),o=(0,r.default)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye");t.Z=o},3466:function(e,t,n){n.d(t,{Z:function(){return w}});var i=n(4942),r=n(3366),a=n(7462),o=n(2791),s=n(8182),l=n(4419),d=n(4036),c=n(890),u=n(3840),m=n(2930),p=n(6934),h=n(5878),f=n(1217);function x(e){return(0,f.Z)("MuiInputAdornment",e)}var v,Z=(0,h.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),g=n(1402),j=n(184),y=["children","className","component","disablePointerEvents","disableTypography","position","variant"],b=(0,p.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["position".concat((0,d.Z)(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&(0,i.Z)({},"&.".concat(Z.positionStart,"&:not(.").concat(Z.hiddenLabel,")"),{marginTop:16}),"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),w=o.forwardRef((function(e,t){var n=(0,g.Z)({props:e,name:"MuiInputAdornment"}),i=n.children,p=n.className,h=n.component,f=void 0===h?"div":h,Z=n.disablePointerEvents,w=void 0!==Z&&Z,_=n.disableTypography,P=void 0!==_&&_,N=n.position,C=n.variant,S=(0,r.Z)(n,y),k=(0,m.Z)()||{},O=C;C&&k.variant,k&&!O&&(O=k.variant);var z=(0,a.Z)({},n,{hiddenLabel:k.hiddenLabel,size:k.size,disablePointerEvents:w,position:N,variant:O}),I=function(e){var t=e.classes,n=e.disablePointerEvents,i=e.hiddenLabel,r=e.position,a=e.size,o=e.variant,s={root:["root",n&&"disablePointerEvents",r&&"position".concat((0,d.Z)(r)),o,i&&"hiddenLabel",a&&"size".concat((0,d.Z)(a))]};return(0,l.Z)(s,x,t)}(z);return(0,j.jsx)(u.Z.Provider,{value:null,children:(0,j.jsx)(b,(0,a.Z)({as:f,ownerState:z,className:(0,s.Z)(I.root,p),ref:t},S,{children:"string"!==typeof i||P?(0,j.jsxs)(o.Fragment,{children:["start"===N?v||(v=(0,j.jsx)("span",{className:"notranslate",children:"\u200b"})):null,i]}):(0,j.jsx)(c.Z,{color:"text.secondary",children:i})}))})}))},3457:function(e,t,n){var i=(0,n(4046).ZP)();t.Z=i},2764:function(){}}]);
//# sourceMappingURL=504.e747ee91.chunk.js.map