"use strict";(self.webpackChunkadminpanel=self.webpackChunkadminpanel||[]).push([[178],{6178:function(t,a,e){e.r(a),e.d(a,{default:function(){return z}});var r=e(2982),n=e(5861),o=e(1413),i=e(885),s=e(4687),d=e.n(s),u=e(2791),c=e(890),l=e(3400),p=e(1889),f=e(4554),h=e(4721),g=e(7391),x=e(3786),v=e(6151),b=e(792),m=e(2739),Z=e(627),j=e(7247),S=e(9e3),D=e(9434),y=e(2881),k=e(6654),I=e(7477),C=(e(5076),e(3155)),w=e(8384),A=e(4458),P=e(184);function z(){var t=(0,D.I0)(),a=(0,u.useState)({}),e=(0,i.Z)(a,2),s=e[0],z=e[1],N=(0,u.useState)([]),M=(0,i.Z)(N,2),O=(M[0],M[1],(0,u.useState)("")),B=(0,i.Z)(O,2),H=B[0],V=B[1],K=(0,u.useState)({total:0,pending:0,resolved:0}),L=(0,i.Z)(K,2),J=L[0],U=L[1],T=(0,u.useState)({data:[],isLoading:!1,page:1,limit:10,total:0,title:"",category:void 0,SKU:void 0,subCategory:void 0,filter:!1}),F=(0,i.Z)(T,2),R=F[0],W=F[1],_={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50vw",height:"content-fit",bgcolor:"background.paper",boxShadow:24,padding:"1%"};(0,u.useMemo)((function(){(0,k.eu)().then((function(t){console.log(t),U((0,o.Z)({},t.data))})),W((function(t){return(0,o.Z)((0,o.Z)({},t),{},{isLoading:!0})})),(0,k.eJ)({page:R.page,limit:R.limit,total:R.total}).then((function(t){W((function(a){return(0,o.Z)((0,o.Z)({},a),{},{data:t.data.data.map((function(t,a){return{id:a+1,DID:t.DID,AID:t.AID,type:t.type,operation:t.operation,message:t.message,status:t.draftStatus,action:t}})),isLoading:!1,total:t.data.total,filter:!1})}))})).catch((function(t){}))}),[R.page,R.limit,R.filter]);var q=[{field:"id",headerName:"ID",width:50},{field:"DID",headerName:"DID (Draft Id)",width:150,align:"center"},{field:"AID",headerName:"AID (Article Id)",width:200,align:"center"},{field:"type",headerName:"Type",width:100},{field:"operation",headerName:"Operation",width:100},{field:"message",headerName:"Message (Action Information)",width:400,renderCell:function(t){return(0,P.jsx)(c.Z,{variant:"button",children:t.formattedValue})}},{field:"status",headerName:"Status",width:100,renderCell:function(t){return(0,P.jsx)(c.Z,{variant:"button",children:t.formattedValue})}},{field:"action",headerName:"Actions",width:100,renderCell:function(a){return(0,P.jsxs)("div",{children:[(0,P.jsx)(l.Z,{disabled:"Approved"===a.formattedValue.draftStatus&&!0,onClick:function(){console.log(a),z({data:a.formattedValue.payload,DID:a.formattedValue.DID,type:a.formattedValue.type,status:!0,draftStatus:a.formattedValue.draftStatus,operation:a.formattedValue.operation})},"aria-label":"update",children:(0,P.jsx)(S.Z,{})}),(0,P.jsx)(l.Z,{disabled:"Approved"===a.formattedValue.draftStatus&&!0,onClick:(0,n.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.R5)(a.formattedValue._id);case 2:e.sent&&(W((function(t){return(0,o.Z)((0,o.Z)({},t),{},{data:R.data.filter((function(t){return t.action._id!==a.formattedValue._id}))})})),t((0,y.br)({open:!0,variant:"success",message:"Notification deleted successfully !!!"})));case 4:case"end":return e.stop()}}),e)}))),"aria-label":"delete",children:(0,P.jsx)(j.Z,{})})]})}}],E=[{key:"Pending",value:"Pending"},{key:"Approved",value:"Approved"},{key:"Hold",value:"Hold"}],X=function(){(0,k.Jv)().then((function(t){if(t.data.length>0){var a=parseInt(t.data[0].SKU.split("-")[1])+1;V("P-0".concat(a))}else V("P-01001")})).catch((function(t){}))},Y=function(){var t=(0,n.Z)(d().mark((function t(){var a,e;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,k.SY)();case 3:(a=t.sent)&&(a.data.length>0?(e=parseInt(a.data[0].SKU.split("-")[1])+1,V("H-0".concat(e))):V("H-01001")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();function G(){return Q.apply(this,arguments)}function Q(){return(Q=(0,n.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,k.mV)().then((function(t){if(console.log(t),t.data.length>0){var a=parseInt(t.data[0].O.split("-")[1])+1;V("O-0".concat(a))}else V("O-01001")})).catch((function(t){}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var $=function(){return z({status:!1})};function tt(){return(0,P.jsx)("div",{style:{marginTop:"2%",height:400,width:"100%"},children:(0,P.jsx)(I._,{rows:R.data,rowCount:R.total,loading:R.isLoading,rowsPerPageOptions:[10,30,50,100],filterModel:{items:[{columnField:"product_title",operatorValue:"contains",value:"".concat(R.title)}]},pagination:!0,page:R.page-1,limit:R.limit,pageSize:R.limit,paginationMode:"server",onPageChange:function(t){W((function(a){return(0,o.Z)((0,o.Z)({},a),{},{page:t+1})}))},onPageSizeChange:function(t){return W((function(a){return(0,o.Z)((0,o.Z)({},a),{},{limit:t})}))},columns:q})})}return(0,P.jsxs)(f.Z,{sx:{pl:4,pr:4},children:[(0,P.jsx)(c.Z,{sx:{display:"block"},variant:"h5",children:"Action Center"}),(0,P.jsx)("br",{}),(0,P.jsxs)(p.ZP,{className:"actionDash",container:!0,children:[(0,P.jsxs)(p.ZP,{sx:{backgroundColor:"#0000ff8c"},item:!0,xs:12,className:"card",md:3.8,children:[(0,P.jsx)(A.Z,{fontSize:"large"}),(0,P.jsx)(c.Z,{variant:"h6",children:"Total Request"}),(0,P.jsx)(c.Z,{variant:"h4",children:J.total})]}),(0,P.jsxs)(p.ZP,{sx:{backgroundColor:"#ffbd29"},className:"card",item:!0,xs:12,md:3.8,children:[(0,P.jsx)(C.Z,{fontSize:"large"}),(0,P.jsx)(c.Z,{variant:"h6",children:"Pending Request"}),(0,P.jsx)(c.Z,{variant:"h4",children:J.pending})]}),(0,P.jsxs)(p.ZP,{sx:{backgroundColor:"#40b13e"},item:!0,xs:12,className:"card",md:3.8,children:[(0,P.jsx)(w.Z,{fontSize:"large"}),(0,P.jsx)(c.Z,{variant:"h6",children:"Resolved Request"}),(0,P.jsx)(c.Z,{variant:"h4",children:J.resolved})]})]}),(0,P.jsx)("br",{}),(0,P.jsx)(p.ZP,{container:!0,scaping:2,className:"overviewContainer",children:(0,P.jsxs)(p.ZP,{item:!0,p:2,xs:12,sx:{boxShadow:2,borderRadius:5},children:[(0,P.jsx)(c.Z,{variant:"h6",children:" Notifications "}),(0,P.jsx)(tt,{})]})}),s.status&&function(){function a(t){return e.apply(this,arguments)}function e(){return(e=(0,n.Z)(d().mark((function a(e){var n;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,k.p8)(e);case 2:200===(n=a.sent).status?(console.log(s.data.DID),W((function(t){return(0,o.Z)((0,o.Z)({},t),{},{data:(0,r.Z)(t.data.map((function(t){return t.DID===s.data.DID&&(t.status="Approved",t.AID=s.data.SKU||s.data.uuid||s.data.O||s.data.CID||s.data.AID||s.data._id),t})))})})),U((function(t){return(0,o.Z)((0,o.Z)({},t),{},{resolved:t.resolved+1,pending:t.pending-1})})),t((0,y.br)({open:!0,variant:"success",message:n.data.message})),z({status:!1})):(t((0,y.br)({open:!0,variant:"error",message:"Something Went Wrong !!!"})),z({status:!1}));case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}var l=function(){var t=(0,n.Z)(d().mark((function t(e){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),"Approved"!==e.target.action.value){t.next=120;break}t.t0=s.operation,t.next="insertProduct"===t.t0?5:"updateProduct"===t.t0?11:"insertHardware"===t.t0?15:"updateHardware"===t.t0?21:"deleteHardware"===t.t0?25:"deleteCustomer"===t.t0?31:"insertCategory"===t.t0?37:"updateCategory"===t.t0?44:"insertSubCategory"===t.t0?48:"updateSubCategory"===t.t0?55:"deleteBlog"===t.t0?59:"insertMaterial"===t.t0?65:"updateMaterial"===t.t0?71:"insertPolish"===t.t0?75:"updatePolish"===t.t0?79:"insertBlog"===t.t0?83:"updateBlog"===t.t0?87:"createOrder"===t.t0?91:"addBanner"===t.t0?96:"updateBanner"===t.t0?99:"deleteBanner"===t.t0?103:"applyCOD"===t.t0?109:116;break;case 5:return s.data.draftStatus=e.target.action.value,s.data.status=!0,s.data.SKU=H,s.data.AID=H,a(s.data),t.abrupt("break",118);case 11:return s.data.draftStatus=e.target.action.value,s.data.status=!0,a(s.data),t.abrupt("break",118);case 15:return s.data.draftStatus=e.target.action.value,s.data.status=!0,s.data.SKU=H,s.data.AID=H,a(s.data),t.abrupt("break",118);case 21:return s.data.draftStatus=e.target.action.value,s.data.status=!0,a(s.data),t.abrupt("break",118);case 25:case 31:return s.data.operation=s.operation,s.data.DID=s.DID,s.data.draftStatus=e.target.action.value,s.data.status=!0,a(s.data),t.abrupt("break",118);case 37:return s.data.draftStatus=e.target.action.value,s.data.status=!0,s.data.SKU=H,s.data.AID=H,console.log(s.data),a(s.data),t.abrupt("break",118);case 44:return s.data.draftStatus=e.target.action.value,s.data.status=!0,a(s.data),t.abrupt("break",118);case 48:return s.data.draftStatus=e.target.action.value,s.data.status=!0,s.data.SKU=H,s.data.AID=H,console.log(s.data),a(s.data),t.abrupt("break",118);case 55:return s.data.draftStatus=e.target.action.value,s.data.status=!0,a(s.data),t.abrupt("break",118);case 59:return s.data.operation=s.operation,s.data.DID=s.DID,s.data.draftStatus=e.target.action.value,s.data.status=!0,a(s.data),t.abrupt("break",118);case 65:return s.data.draftStatus=e.target.action.value,s.data.status=!0,s.data.SKU=H,s.data.AID=H,a(s.data),t.abrupt("break",118);case 71:case 75:case 79:case 83:case 87:return s.data.draftStatus=e.target.action.value,s.data.status=!0,a(s.data),t.abrupt("break",118);case 91:return s.data.draftStatus=e.target.action.value,s.data.O=H,s.data.AID=H,a(s.data),t.abrupt("break",118);case 96:return s.data.draftStatus=e.target.action.value,a(s.data),t.abrupt("break",118);case 99:return s.data.draftStatus=e.target.action.value,s.data.status=!0,a(s.data),t.abrupt("break",118);case 103:return s.data.operation=s.operation,s.data.DID=s.DID,s.data.draftStatus=e.target.action.value,s.data.status=!0,a(s.data),t.abrupt("break",118);case 109:return s.data.operation=s.operation,s.data.DID=s.DID,s.data.limit="CODLIMIT2023",s.data.draftStatus=e.target.action.value,s.data.status=!0,a(s.data),t.abrupt("break",118);case 116:return console.log("no operation found"),t.abrupt("break",118);case 118:t.next=121;break;case 120:z({status:!1});case 121:case"end":return t.stop()}}),t)})));return function(a){return t.apply(this,arguments)}}();function j(){var t=(0,u.useState)([]),a=(0,i.Z)(t,2),e=a[0],r=a[1];function o(){return(o=(0,n.Z)(d().mark((function t(){var a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a="",t.t0=s.operation,t.next="insertProduct"===t.t0?4:"insertHardware"===t.t0?7:"updateProduct"===t.t0?10:"updateHardware"===t.t0?15:"updateCategory"===t.t0?20:"updateSubCategory"===t.t0?25:"updateMaterial"===t.t0?30:"updatePolish"===t.t0?35:"updateBlog"===t.t0?41:"createOrder"===t.t0?47:"updateBanner"===t.t0?49:56;break;case 4:return r([]),X(),t.abrupt("break",58);case 7:return r([]),Y(),t.abrupt("break",58);case 10:return t.next=12,(0,k.KL)(s.data.AID);case 12:case 17:return(a=t.sent)&&(a.data=JSON.stringify(a.data),a.data=JSON.parse(a.data),a.data&&r(a.data)),t.abrupt("break",58);case 15:return t.next=17,(0,k.VF)(s.data.AID);case 20:return t.next=22,(0,k.m7)(s.data.AID);case 22:case 27:return(a=t.sent)&&(a.data=JSON.stringify(a.data),a.data=JSON.parse(a.data),console.log(a.data),a.data&&r(a.data)),t.abrupt("break",58);case 25:return t.next=27,(0,k.KE)(s.data.AID);case 30:return t.next=32,(0,k.TB)(s.data.AID);case 32:return(a=t.sent)&&(console.log(a.data),a.data&&r(a.data)),t.abrupt("break",58);case 35:return console.log(s.data.AID),t.next=38,(0,k.Hr)(s.data.AID);case 38:case 44:case 52:return(a=t.sent)&&a.data&&r(a.data),t.abrupt("break",58);case 41:return console.log(s.data.AID),t.next=44,(0,k.x3)(s.data.AID);case 47:return G(),t.abrupt("break",58);case 49:return console.log(s.data.AID),t.next=52,(0,k.Xp)(s.data.AID);case 56:return r([]),t.abrupt("break",58);case 58:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,u.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[]),(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(p.ZP,{container:!0,children:[(0,P.jsxs)(p.ZP,{item:!0,xs:12,children:[" ",(0,P.jsx)(c.Z,{variant:"h5",sx:{textAlign:"center",mb:1},children:"Data View"})]}),("updateProduct"===s.operation||"updateHardware"===s.operation||"updateSubCategory"===s.operation||"updateMaterial"===s.operation||"updatePolish"===s.operation||"updateBlog"===s.operation||"updateBanner"===s.operation||"updateCategory"===s.operation)&&(0,P.jsxs)(p.ZP,{item:!0,xs:6,p:1,children:[(0,P.jsx)(c.Z,{variant:"h6",sx:{textAlign:"center"},children:"Before"}),(0,P.jsx)(f.Z,{sx:{height:"300px",overflow:"scroll"},children:Object.keys(e).map((function(t){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(h.Z,{}),(0,P.jsx)(c.Z,{sx:{fontWeight:"bold !important"},variant:"button",children:t+" :: "}),e[t]!=s.data[t]?(0,P.jsx)(c.Z,{sx:{color:"red !important"},variant:"button",children:e[t]}):(0,P.jsxs)(c.Z,{variant:"button",children:[console.log(typeof s.data[t]),e[t]]})]})}))})]}),(0,P.jsxs)(p.ZP,{item:!0,p:1,xs:"updateProduct"===s.operation||"updateHardware"===s.operation||"updateSubCategory"===s.operation||"updateMaterial"===s.operation||"updateBlog"===s.operation||"updateBanner"===s.operation||"updatePolish"===s.operation||"updateCategory"===s.operation?6:12,children:[(0,P.jsx)(c.Z,{variant:"h6",sx:{textAlign:"center"},children:"updateProduct"===s.operation||"updateHardware"===s.operation||"updateSubCategory"===s.operation||"updateBanner"===s.operation||"updateMaterial"===s.operation||"updateBlog"===s.operation||"updatePolish"===s.operation||"updateCategory"===s.operation?"After":"Article Details"}),(0,P.jsx)(f.Z,{sx:{height:"300px",overflow:"scroll",p:2},children:"updateProduct"===s.operation||"updateHardware"===s.operation||"updateSubCategory"===s.operation||"updateMaterial"===s.operation||"updateBanner"===s.operation||"updateBlog"===s.operation||"updatePolish"===s.operation||"updateCategory"===s.operation?Object.keys(s.data).map((function(t){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(h.Z,{}),(0,P.jsx)(c.Z,{sx:{fontWeight:"bold !important"},variant:"button",children:t+" :: "}),e[t]!==s.data[t]?(0,P.jsxs)(c.Z,{sx:{color:"green !important"},variant:"button",children:[console.log(typeof s.data[t]),"object"==typeof s.data[t]?JSON.stringify(s.data[t]):s.data[t]]}):(0,P.jsxs)(c.Z,{variant:"button",children:[console.log(typeof s.data[t]),"object"==typeof s.data[t]?JSON.stringify(s.data[t]):s.data[t]]})]})})):Object.keys(s.data).map((function(t){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(h.Z,{}),(0,P.jsx)(c.Z,{sx:{fontWeight:"bold !important"},variant:"button",children:t+" :: "}),(0,P.jsx)(c.Z,{variant:"button",children:"object"==typeof s.data[t]?JSON.stringify(s.data[t]):s.data[t]})]})}))})]})]})})}function S(){var t=(0,u.useState)(s.draftStatus),a=(0,i.Z)(t,2),e=a[0],r=a[1];return(0,P.jsx)(p.ZP,{container:!0,sx:{p:1},children:(0,P.jsx)(p.ZP,{item:!0,xs:12,children:(0,P.jsxs)("form",{encType:"multipart/form-data",method:"post",onSubmit:l,children:[(0,P.jsx)(g.Z,{sx:{mb:2},size:"small",fullWidth:!0,id:"outlined-select",select:!0,name:"action",label:"Action",value:e,onChange:function(t){r(t.target.value)},helperText:"Please select your action",children:E.map((function(t){return(0,P.jsx)(x.Z,{value:t.value,children:t.value},t.key)}))}),(0,P.jsxs)(f.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,P.jsx)(v.Z,{size:"small",type:"submit",variant:"contained",children:"Save Action"}),(0,P.jsx)(v.Z,{size:"small",onClick:function(){z({status:!1})},variant:"outlined",children:"Cancel"})]})]})})})}return(0,P.jsx)("div",{children:(0,P.jsx)(b.Z,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",open:!0,onClose:$,closeAfterTransition:!0,BackdropComponent:m.Z,BackdropProps:{timeout:500},children:(0,P.jsx)(Z.Z,{in:!0,children:(0,P.jsxs)(f.Z,{sx:_,children:[(0,P.jsx)(j,{}),(0,P.jsx)("br",{}),(0,P.jsx)(S,{})]})})})})}()]})}},8384:function(t,a,e){var r=e(4836);a.Z=void 0;var n=r(e(5649)),o=e(184),i=(0,n.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");a.Z=i},9e3:function(t,a,e){var r=e(4836);a.Z=void 0;var n=r(e(5649)),o=e(184),i=(0,n.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create");a.Z=i},7247:function(t,a,e){var r=e(4836);a.Z=void 0;var n=r(e(5649)),o=e(184),i=(0,n.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");a.Z=i},3155:function(t,a,e){var r=e(4836);a.Z=void 0;var n=r(e(5649)),o=e(184),i=(0,n.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"Pending");a.Z=i},4458:function(t,a,e){var r=e(4836);a.Z=void 0;var n=r(e(5649)),o=e(184),i=(0,n.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7 7h7v2H7V7zm0 3h7v2H7v-2zm3 5H7v-2h3v2zm4.05 3.36-2.83-2.83 1.41-1.41 1.41 1.41L17.59 12 19 13.41l-4.95 4.95z"}),"PlaylistAddCheckCircle");a.Z=i},5076:function(){}}]);
//# sourceMappingURL=178.0d8369d3.chunk.js.map